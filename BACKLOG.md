# Copilot Backlog — Hugo Site (FixIt Theme)

A structured, actionable backlog for a Copilot coding agent working on this Hugo site using the FixIt theme.

## Scope & Context
- Static site built with Hugo, using the FixIt theme under `themes/FixIt`.
- Content lives under `content/` with posts in `content/posts/`.
- Built outputs are in `public/` (generated by Hugo).
- Configuration root is `hugo.toml`.

## Principles
- Small, focused PRs; keep changes minimal and scoped.
- Prefer configuration in `hugo.toml` over ad‑hoc in templates.
- Reuse theme features (shortcodes, params) before custom code.
- Keep assets in `static/` and reference via shortcodes or relative paths.
- Document changes in the backlog and cross-link to commits/PRs.

## Quick Commands (Windows)
```powershell
# Run locally with drafts
hugo server -D

# Build production
hugo --minify
```

---

## Epics & Tasks

### 0) Blog Topics - Deployment Infrastructure
- [ ] Investigate modern deployment frameworks enabling Infrastructure as Code (IaC), I would expect ansible and terraform to show up.
- [ ] Investigate support in Deployments like Hetzner and Digital Ocean. Also consider HomLab use and a newly built Lab ENvironment with lots of Edge Systems and diverse service landscape.
- [ ] Investigate the interaction with docker containers and docker compose as well as lxc and kvm based virtualization and proxmox.
- [ ] Investigate Monitoring functions for docker compose and other runtime management systems, I heared of dockge or so.
- [ ] Investigate if and how AI agents can operate as coworker and support, ideally running from a local ollama (or propose a better solution) based local AI accelerator.
- [ ] Main OS will be Linux Ubuntu LTS, but reason what can be done with Win11, QNX, ROS2 and Android.

### Blog Series — Deployment Infrastructure

Each entry aims to: provide setup/config instructions, include tested code samples, capture learnings as an ADR, and link references.

#### Entry 01 — Lab Baseline (Manual Execution)
- [ ] Setup: Ubuntu LTS VM, install Docker, Compose, and make. Document prerequisites.
- [ ] Code: `lab/docker-compose.yml` running a simple service (e.g., Nginx) locally.
- [ ] ADR: Lab baseline rationale (VM vs bare metal), tooling choices.
- [ ] References: Docker, Compose, Ubuntu docs.
- [ ] Test: `docker compose up -d` and verify service responds.

#### Entry 02 — Terraform Quickstart (Hetzner/DigitalOcean)
- [ ] Setup: Provider access tokens, minimal `lab/terraform/main.tf` to create a single VM.
- [ ] Code: `variables.tf`, `outputs.tf`, and a tiny cloud-init to install Docker.
- [ ] ADR: Provider selection criteria; why not Kubernetes (yet).
- [ ] References: Terraform provider docs; Hetzner/DigitalOcean guides.
- [ ] Test: `terraform init && terraform apply` creates VM; `terraform destroy` cleans up.

#### Entry 03 — Cloud Provider Packaging Spectrum
- [ ] Setup: Survey DigitalOcean (App Platform, Droplets, Kubernetes, Bare Metal) and Hetzner (Cloud, Storage Box, Dedicated, Colocation) offerings.
- [ ] Code: Comparison matrix and minimal examples: static site config, containerized app descriptor, VM terraform snippet, bare metal notes.
- [ ] ADR: When to use each tier (static vs managed app vs containers vs VM vs bare metal); cost vs control trade-offs, vendor lock-in considerations.
- [ ] References: DigitalOcean App Platform, Hetzner Cloud/Robot docs; pricing calculators.
- [ ] Test: Deploy a Hugo static site to App Platform; document VM-to-bare-metal migration path.

#### Entry 04 — Ansible Bootstrap
- [ ] Setup: `lab/ansible/inventory.ini`, SSH keys, `site.yml` to configure users, firewall, Docker.
- [ ] Code: Roles/tasks for baseline server config; idempotent runs.
- [ ] ADR: Idempotency, inventory structure, secrets management outline.
- [ ] References: Ansible docs, best practices.
- [ ] Test: `ansible-playbook -i inventory.ini site.yml` configures VM from Entry 02.

#### Entry 05 — Essential Infrastructure Services
- [ ] Setup: Core services: Gitea/GitLab (Git repo), devpi (PyPI mirror), Nginx/Caddy (web/reverse proxy), restic (backup), Let's Encrypt (certs), WireGuard (VPN), Jenkins/Drone/Woodpecker (CI/CD).
- [ ] Code: Compose stack `lab/services/docker-compose.yml` with volume persistence, health checks, basic auth/TLS where applicable.
- [ ] ADR: Service selection rationale (lightweight vs full-featured), resource requirements, security posture.
- [ ] References: Gitea, devpi, Caddy, restic, WireGuard docs; Let's Encrypt integration guides.
- [ ] Test: Deploy via Ansible; verify Git push, PyPI mirror caching, web serving, backup snapshot, VPN connection, CI pipeline run.

#### Entry 06 — Runtime Packaging (Compose + LXC/KVM Notes)
- [ ] Setup: Expand `lab/docker-compose.yml` with a sample app stack (e.g., Nginx + whoami).
- [ ] Code: Service definitions, healthchecks, volumes; notes comparing LXC/KVM/Proxmox usage.
- [ ] ADR: When to choose containers vs VMs; trade-offs and patterns.
- [ ] References: Proxmox, LXC, KVM resources; Docker docs.
- [ ] Test: Deploy stack on VM via Ansible (copy compose file, run compose).

#### Entry 07 — Monitoring & Management
- [ ] Setup: Minimal Prometheus + Grafana, and management tool (Dockge or Portainer).
- [ ] Code: Compose files, basic Prometheus scrape config.
- [ ] ADR: Monitoring scope, operational workflows, tool choice.
- [ ] References: Prometheus, Grafana, Dockge/Portainer docs.
- [ ] Test: Services up, dashboards reachable; sample metrics visible.

#### Entry 08 — Observability (Logs/Tracing)
- [ ] Setup: Add Loki (logs) and consider simple tracing where feasible.
- [ ] Code: Compose services + config snippets; log shipping.
- [ ] ADR: Observability boundaries for small labs.
- [ ] References: Loki, OpenTelemetry.
- [ ] Test: Logs appear in UI; retention confirmed.

#### Entry 09 — CI/CD Pipeline (Gradual Automation)
- [ ] Setup: GitHub Actions workflow to lint configs and dry-run where possible; manual approvals initially.
- [ ] Code: `.github/workflows/ci.yml` running `terraform validate`, `ansible-lint`, optional compose checks.
- [ ] ADR: Secrets handling strategy; staged automation approach.
- [ ] References: GitHub Actions, Terraform/Ansible linting.
- [ ] Test: Workflow passes; manual runs apply to test environment.

#### Entry 10 — AI Ops Helper (Local LLM)
- [ ] Setup: Ollama (or alternative), prompt templates for generating Ansible tasks.
- [ ] Code: Example prompts and generated playbook snippets with human review gates.
- [ ] ADR: Where agents help vs where humans must validate.
- [ ] References: Ollama docs; agent frameworks.
- [ ] Test: Generated snippet passes `ansible-lint` and runs against lab.

#### Entry 11 — Security & Secrets
- [ ] Setup: SOPS with age for encrypting vars; integrate with Ansible/Terraform.
- [ ] Code: Encrypted `group_vars/` and Terraform secrets patterns.
- [ ] ADR: Secret storage decisions and rotation strategy.
- [ ] References: SOPS, age, Ansible Vault comparison.
- [ ] Test: Decrypt/encrypt cycle works; CI respects secrets.

#### Entry 12 — OS Support Matrix
- [ ] Setup: Document Ubuntu LTS as primary; evaluate Windows 11 (WSL2), QNX, ROS 2, Android feasibility.
- [ ] Code: Where applicable, minimal examples or notes; focus on documentation.
- [ ] ADR: Scope boundaries and caveats per OS.
- [ ] References: Official OS docs and community guides.
- [ ] Test: If feasible, smoke tests on secondary OS; otherwise, documented constraints.

### 1) Site Foundations
- [ ] Validate `baseURL`, language settings, and site params in `hugo.toml`.
- [ ] Enable/confirm sitemap and RSS; verify outputs in `public/`.
- [ ] Configure menus and taxonomies (categories/tags) as needed.
- [ ] Add author/profile params (used by FixIt across templates).
- [ ] Ensure date formats, time zone, and default content language are set.

### 2) Theme Sync (FixIt)
- [ ] Audit `themes/FixIt` vs upstream (hugo-fixit/FixIt main) for differences.
- [ ] Decide theme management strategy: vendored folder vs git submodule.
- [ ] Implement sync/update process and document steps.
- [ ] Update to latest FixIt; test pages and shortcodes locally.
- [ ] Track breaking changes from FixIt release notes and adjust params.

### 3) Content Pipeline
- [ ] Define post archetypes (title, date, tags, cover image, summary).
- [ ] Create next post(s) under `content/posts/` using archetypes.
- [ ] Move images to `static/img/` and use FixIt image shortcodes.
- [ ] Establish naming conventions and slug strategy.
- [ ] Add drafts and schedule publication cadence.

### 4) SEO & Social
- [ ] Configure SEO params (title template, description, canonical) in `hugo.toml`.
- [ ] Ensure OpenGraph and Twitter Cards render; set default social image.
- [ ] Review robots.txt and sitemap settings; include `public/sitemap.xml`.
- [ ] Add breadcrumbs and structured data as supported by FixIt.

### 5) Analytics & Comments
- [ ] Enable Giscus (comments) by adding repo/config and site params.
- [ ] Review `themes/FixIt/giscus.json` and confirm integration points.
- [ ] Configure cookie consent (if enabled) and privacy links.
- [ ] Add analytics (e.g., Plausible, GA4) via FixIt integration params.

### 6) Performance & Assets
- [ ] Optimize images (compression, dimensions) in `static/img/`.
- [ ] Confirm CSS/JS minification and fingerprinting in Hugo build.
- [ ] Use lazy-loading and responsive images via FixIt shortcodes.
- [ ] Check Lighthouse performance and address regressions.

### 7) Accessibility
- [ ] Run Lighthouse accessibility checks; fix color contrast issues.
- [ ] Ensure keyboard navigation and focus states are clear.
- [ ] Add alt text and descriptive captions to images.

### 8) Deployment & CI/CD
- [ ] Decide hosting (GitHub Pages/Netlify/Other) and document.
- [ ] Add CI workflow to build Hugo and deploy on changes to `main`.
- [ ] Cache Hugo resources in CI to speed up builds.
- [ ] Add status badges and deployment notes.

### 9) KaTeX & Code Blocks (Optional)
- [ ] Verify KaTeX assets and enable math rendering for posts that need it.
- [ ] Confirm code highlighting theme and language coverage.

---

## Validation Checklist
- [ ] `hugo server -D` runs cleanly; no template errors.
- [ ] All pages render with expected theme components.
- [ ] `public/` contains sitemap, RSS feeds, and expected outputs.
- [ ] Lighthouse shows acceptable scores for performance and accessibility.
- [ ] CI passes and produces a deployable artifact/site.

## Working Agreements
- Create one PR per epic slice or small task.
- Update this backlog when tasks complete; link to PRs.
- Prefer theme config over bespoke overrides; document any override.

## References
- Hugo docs: https://gohugo.io/
- FixIt theme: https://github.com/hugo-fixit/FixIt

---

## Next Up (Suggested Order)
1. Site Foundations
2. Theme Sync (FixIt)
3. Content Pipeline
4. SEO & Social
5. Analytics & Comments
6. Performance & Accessibility
7. Deployment & CI/CD

> Owner: Copilot coding agent. Keep PRs small and verifiable.
